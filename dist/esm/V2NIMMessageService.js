import e from"eventemitter3";import{get as t}from"lodash-es";function n(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function d(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,d)}u((r=r.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class r extends e{constructor(e){super(),this.core=e}sendMessage(e){return n(this,void 0,void 0,(function*(){const n=yield this.sendCmd(e);if(t(n,"idClient"))return n;throw new Error("generate message failed")}))}sendCmd(e){return new Promise(((t,n)=>{setTimeout((function(){t({idClient:"This is a idClient",idServer:"This is a idServer",body:e})}),1e3)}))}}r.moduleName="V2NIMMessageService";export{r as default};
